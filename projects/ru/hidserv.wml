





## translation metadata
# Revision: $Revision: 22515 $
# Translation-Priority: 4-optional
#include "head.wmi" TITLE="NLnet Project: Speed Up Tor Hidden Services" CHARSET="UTF-8"
<div class="main-column">



<!-- PUT CONTENT AFTER THIS TAG -->
<h2>Проект NLnet: Ускорение Скрытых Сервисов Tor</h2>
<hr />

<p>
Скрытые сервисы Tor позволяют пользователям создавать анонимные
информационные сервисы, такие как веб-сайты. Доступ к таким сайтам можно
получить только через сеть Tor, и они защищены от идентификации хоста, на
котором расположен сервис, третьими лицами. Самыми главными ограничениями
скрытых сервисов Tor являются время, которое необходимо для регистрации
скрытого сервиса в сети, и задержка создания контакта при подключении
пользователя. По причине структурных особенностей оригинального протокола
Tor, подключение к новому скрытому сервису может занять несколько минут, что
заставляет большее число пользователей сдаться еще перед созданием
соединения. Использование скрытых сервисов для прямой интерактивной
коммуникации между пользователями (например, обмен мгновенными сообщениями)
практически невозможно, в связи с высокими показателями задержки при
создании цепочки подключения к скрытому сервису.
</p>

<p>
Целью этого проекта является ускорение работы Скрытых Сервисов Tor путем
усовершенствования пути установления цепи соединения между пользователем и
скрытым сервисом Tor, а также пути регистрации скрытых сервисов в сети
Tor. На первом этапе будет проведена точная диагностика работы скрытых
сервисов, как в лабораторных условиях, так и на практике, с целью
определения основных причин описанных выше запозданий. Основываясь на
результатах исследования, будут разработаны и проверены на наличие
нежелательных последствий для безопасности и анонимности сети Tor стратегии
оптимизации. Самые многообещающие из них будут затем внедрены, с целью
достижения существенных улучшений эффективности работы. Точные системы
измерения достижений будут разработаны на этапе диагностики, после того как
станет ясно, где время было потеряно и какие улучшения являются
реалистичными. Основной целью является внесение всех необходимых изменений в
протокол скрытых сервисов, и информация о них распространена среди
пользователей Tor в течение менее чем одного года.
</p>

<p>
Этот проект финансируется:
</p>

<p>
<a href="http://www.nlnet.nl/news/2008/20080514-awards.html"> <img
src="$(IMGROOT)/nlnet-160x60.png" alt="The NLnet foundation" /></a>
</p>

<table width="100%" border="0" cellspacing="0" cellpadding="3">
<thead>
<tr>
<th><big>Проект</big></th>
<th><big>Дата</big></th>
</tr>
</thead>

<tr bgcolor="#e5e5e5">
  <td>
    <b>Компонент A:</b> Анализ, измерения, выявление проблем<br /> <small><em>As
Так как в течение последних нескольких лет развитию скрытых сервисов Tor
уделялось мало внимания, некоторые аспекты проблем не были диагностированы
должным образом. С тем, чтобы определить конкретные источники задержек и
потери времени, должен быть проведен всесторонний анализ их скрытых
причин. На Компонент A потребуется приблизительно один месяц
работы. Результаты анализа повлияют на решения по разработке, которые
являются составной частью Компонента B.</em></small>
  </td>
  <td>
    15.06.2008
  </td>
</tr>

<tr>
  <td>
    <b>Компонент B:</b> Разработка и оценка необходимых изменений<br />
<small><em>Изменение скрытых сервисов Tor окажет сильное воздействие на
базовую функциональность протокола и поэтому необходима особо тщательная
оценка возможных последствий каких-либо изменений на безопасность и
анонимность. Для фазы разработки и оценки предусмотрено два месяца. В
завершении будет проведена углубленная экспертная оценка.</em></small>
  </td>
  <td>
    15.08.2008
  </td>
</tr>

<tr bgcolor="#e5e5e5">
  <td>
    <b>Компонент C:</b> Внедрение<br /> <small><em>После разработки, оценки и
сторонней экспертной оценки модификации должны быть внедрены и интегрированы
в текущий базовый код Tor. Фактическое внесение всех необходимых изменений
займет приблизительно два месяца.</em></small>
  </td>
  <td>
    15.10.2008
  </td>
</tr>

<tr>
  <td>
    <b>Компонент D:</b> Внедрение и тестирование изменений до релиза<br />
<small><em> Модификация – это важный процесс, который может иметь серьезные
последствия для безопасности и анонимности сети Tor, он требует
всестороннего тестирования и устранения ошибок, как в лабораторных, так и в
реальных условиях. Трехмесячный период отведен в рамках проекта тестированию
и устранению ошибок, при этом ответственный разработчик будет занят
тестированием треть своего рабочего времени. Частью фазы тестирования станет
публичный бета период.</em></small>
  </td>
  <td>
    15.01.2009
  </td>
</tr>

<tr bgcolor="#e5e5e5">
  <td>
    <b>Компонент E:</b> Массовый выпуск<br /> <small><em>Массовый выпуск на сеть
серверов Tor будет синхронизован с планом выпуска новых релизов
Tor. Учитывая, что этот план зависит от некоторого количества внешних
факторов, таких как конкуренция с другими проектами по разработке
программного обеспечения, которые должны войти в тот же релиз, фактическое
время релиза и время, когда релиз будет принят и установлен большинством
операторов серверов Tor, могут варьировать. Согласно нашему опыту, от трех
до четырех месяцев можно планировать на этот процесс. </em></small>
  </td>
  <td>
    15.05.2009
  </td>
</tr>
</table>

<br /> <a id="Reports"></a>
<h2><a class="anchor" href="#Reports">Месячные отчеты</a></h2>
<p>
В общем и целом будет восемь ежемесячных отчетов, начиная с первого
компонента (15.06.2008) и заканчивая окончанием внедрения и тестирования
(15.01.2009).
</p>

<table width="100%" border="0" cellspacing="0" cellpadding="3">
<thead>
<tr>
<th><big>Месяц</big></th>
<th><big>Отчет</big></th>
</tr>
</thead>

<tr bgcolor="#e5e5e5">
  <td>
    <a id="Jun08"></a> <a class="anchor" href="#Jun08">Июнь 08</a>
  </td>
  <td>
    <small><em>Первоначальная цель анализа проблем, ведущих к замедлению работы
скрытых сервисов Tor, была достигнута. Часть этого анализа заключалась в
измерении запоздания, с которым сталкивается пользователь при создании
скрытого сервиса или при подключении к нему. Более того, данные измерений,
проведенных в апреле 2008, могли быть использованы для изучения временных
показателей внутренних шагов создания подключения к скрытому
сервису. Результаты этого анализа содержатся в 22-страничном <a
href="http://freehaven.net/~karsten/hidserv/perfanalysis-2008-06-15.pdf">отчете</a>,
который был представлен общественности посредством <a
href="http://archives.seul.org/or/dev/Jun-2008/msg00019.html">листа рассылки
для разработчиков Tor</a>.</em></small> <br/> <small><em>Анализ помог также
раскрыть несколько ошибок программного кода, которые частично ответственны
за запоздания в работе скрытых сервисов. Некоторые ошибки были исправлены
сразу после анализа, другие будут исправлены скоро. Оценка выявила еще
несколько возможных подходов для улучшения производительности скрытых
сервисов Tor. Некоторые из этих идей можно начать использовать уже сейчас,
другие же требуют более глубокого анализа и новых измерений. В конце концов,
в ходе анализа, мы узнали, что некоторые усовершенствования требуют более
глубоких изменений сети Tor, которые не связаны напрямую со скрытыми
сервисами. Эти изменения нельзя сделать в рамках данного
проекта.</em></small>
  </td>
</tr>

<tr>
  <td>
    <a id="Jul08"></a> <a class="anchor" href="#Jul08">Июль 08</a>
  </td>
  <td>
    <small><em>Все ошибки, найденные во время анализа, исправлены. К ним
относятся 2 ошибки, которые были  исправлены еще во время анализа и 4
ошибки, которые были исправлены в течение последних 30 дней. В то время как
исправление ошибок устраняет непредумышленные узкие места, замедляющие
производительность, связанные с ошибками в программном коде, некоторые
структурные изменения, которые были отмечены во время предыдущего анализа,
также имеют побочные эффекты, сказывающиеся на анонимности или общей
загрузке сети. Эти связи необходимо оценить и сопоставить с отдельными
улучшениями производительности. <a
href="http://freehaven.net/~karsten/hidserv/discussion-2008-07-15.pdf">Доклад</a>
был опубликован через <a
href="http://archives.seul.org/or/dev/Jul-2008/msg00034.html">лист рассылки
для разработчиков Tor</a>, в нем, помимо прочего, описываются 7 возможных
структурных изменений, которые необходимо обсудить. Некоторые оценки (а
именно низко-производительные замеры и план расширения сети), как оказалось,
требуют больше времени, чем ожидалось. В связи с этим они будут завершены на
другом этапе проекта, а не в Компоненте B. В настоящее время планируется
осуществить эти оценки до 15 января и работать с предположениями до тех пор,
пока не будут известны финальные результаты.</em></small>
  </td>
</tr>

<tr bgcolor="#e5e5e5">
  <td>
    <a id="Aug08"></a> <a class="anchor" href="#Aug08">Август 08</a>
  </td>
  <td>
    <small><em>В течение последних 30 дней были оценены и обсуждены 7
предложенных структурных изменения. Четыре из них были отмечены в качестве
применимых, учитывая необходимые изменения в коде и возможное влияние на
анонимность. Одно из изменений было классифицировано в качестве ошибки, а не
структурного изменения. Два были исключены за возможные проблемы
безопасности, или неопределенность предполагаемых улучшений
производительности.Учитывая результаты, описанные в отчете от 15 июля, фаза
разработки сейчас завершена. Задачи для следующей фазы внедрения довольно
ясны: одну ошибку нужно исправить и четыре структурных изменения
внести. После этого, нужно будет провести оценку структурных изменений,
чтобы установить степень их эффективности. <a
href="http://freehaven.net/~karsten/hidserv/design-2008-08-15.pdf">Отчет</a>
с результатами фазы разработки был опубликован через <a
href="http://archives.seul.org/or/dev/Aug-2008/msg00025.html">лист рассылки
для разработчиков</a>.</em></small>
  </td>
</tr>

<tr>
  <td>
    <a id="Sep08"></a> <a class="anchor" href="#Sep08">Сентябрь 08</a>
  </td>
  <td>
    <small><em>В течение первой половины фазы внедрения две ошибки, которые
относились к скрытым сервисам, удалось исправить. <a
href="http://bugs.noreply.org/flyspray/index.php?do=details&amp;id=767">Первая
ошибка</a>была идентифицирована еще на стадии разработки и выражалась в
невероятно высоком проценте сбоев при создании скрытых сервисов в системе,
<a
href="http://bugs.noreply.org/flyspray/index.php?id=814&amp;do=details">вторая
ошибка</a> была найдена во время фазы внедрения, она заключалась в проблеме
подключения к работающему скрытому сервису. Оба исправления будут включены в
следующую нестабильную версию. После этого они, скорее всего, будут выпущены
в одном из следующих стабильных релизов. Четыре структурных изменения,
которые предлагались в результате фазы разработки были реализованы в <a
href="https://tor-svn.freehaven.net/svn/tor/branches/hidserv-design-changes/">экспериментальной
ветке</a> нестабильного дерева развития. Ранние тесты функциональности
показали, что эти изменения работают и обеспечивают лучший (для восприятия)
уровень производительности. Это должно будет подтвердиться в течение
последующих четырех недель, когда будут проводиться внутренние
тесты. Следующей целью является подготовка релиза этой экспериментальной
ветви, который затем сможет быть передан бета тестировщикам в начале
следующей фазы, фазы тестирования.</em></small>
  </td>
</tr>

<tr bgcolor="#e5e5e5">
  <td>
    <a id="Oct08"></a> <a class="anchor" href="#Oct08">Октябрь 08</a>
  </td>
  <td>
    <small><em>Фаза внедрения завершена. Исправления ошибок, которые были
найдены за последние 30 дней, выпущены в виде экспериментальной версии <a
href="http://archives.seul.org/or/talk/Oct-2008/msg00093.html">0.2.1.6-alpha</a>.
Четыре структурных изменения, которые были определены в фазе разработки,
описаны в <a
href="https://svn.torproject.org/svn/tor/trunk/doc/spec/proposals/155-four-hidden-service-improvements.txt">предложении
155</a>. Три структурных изменения внесены в базу данных кодов разработки и
теперь будут автоматически включены в следующую экспериментальную
версию. Первые два структурных изменения ускорили создание соединения со
скрытым сервисом путем уменьшения лимита времени с 60 до 30 секунд и внедрив
параллельный автоповтор после 15 секундного запоздания. Третье структурное
изменение воздействует на публикацию скрытого сервиса в сети путем
распространения информации о сервисе параллельно через 5, а не 3 точки в
сети, что приводит к успешной работе уже после создания 3 точек. Четвертое
структурное изменение оказалось скорее неэффективным из-за существенного
усложнения кода. Поэтому было принято решение отказаться от этого
изменения. В настоящее время нет ни открытых ошибок, ни новых предложений по
структурным изменениям. Все изменения находятся в базе данных кодов
разработки и могут быть протестированы в следующей фазе.</em></small>
  </td>
</tr>

<tr>
  <td>
    <a id="Nov08"></a> <a class="anchor" href="#Nov08">Ноябрь 08</a>
  </td>
  <td>
    <small><em>Улучшения производительности, которые были сделаны в предыдущей
фазе, были выпущены в виде версии Tor 0.2.1.7-alpha. Пользователи могут
скачать эту экспериментальную версию с домашней страницы Tor и
протестировать улучшения. Более того, две исправленные ошибки  (<a
href="http://bugs.noreply.org/flyspray/index.php?id=767&amp;do=details">1</a>,
<a
href="http://bugs.noreply.org/flyspray/index.php?id=814&amp;do=details">2</a>),
которые были найдены в течение этого проекта, были внедрены в стабильные
релизы и будут включены в следующую стабильную версию 0.2.0.32. Главным
фокусом нашей работы в течение последнего месяца было проведение новых
измерений с целью определения эффективности внедренных улучшений. Первые
измерения проводились в течение двух дней с 6 по 8 ноября. К сожалению, в
сети Tor наблюдалась серьезная проблема в этот период времени: изъятый
сертификат главной директории привел к сильному увеличению трафика внутри
сети Tor, что <a
href="http://archives.seul.org/or/talk/Nov-2008/msg00053.html">заставило
многих операторов отключить свои ретрансляторы</a>. Вторые замеры
проводились с 13 по15 ноября. Сырые данные доступны <a
href="http://freehaven.net/~karsten/hidserv/perfdata-2008-11-13.tar.gz">здесь</a>
(40Мб). Но результаты показывают, что общая производительность сети все еще
ниже, чем это было в июне 2008, когда были проведены первые измерения работы
скрытых сервисов. Это становится явным при сравнении запросов к директориям
Tor, на которые не повлияли недавние улучшения производительности, и
эффективность которых значительно хуже, чем была раньше. Эффекты улучшения
производительности налицо, но абсолютные величины в настоящее время
несравнимы. Новые замеры будут проведены в декабре с надеждой на то, что мы
преодолеем эффекты, связанные с данной проблемой.</em></small> <br/>
<small><em>Более того, возможно есть <a
href="http://bugs.noreply.org/flyspray/index.php?id=847&amp;do=details">ошибка</a>
в пути скачивания информации из директорий Tor во время самонастройки. Хотя
это и не имеет прямого отношения к скрытым сервисам, улучшение позволило бы
улучшить эффективность публикации скрытых сервисов. Часть запланированной на
следующие 30 дней работы будет направлена на исследование этой
ошибки. </em></small>
  </td>
</tr>

<tr bgcolor="#e5e5e5">
  <td>
    <a id="Dec08"></a> <a class="anchor" href="#Dec08">Декабрь 08</a>
  </td>
  <td>
    <small><em>Часть времени за последние 30 дней была использована на
исправление ошибок, оказавших влияние на производительность при последних
измерениях. Первое <a
href="http://archives.seul.org/or/cvs/Nov-2008/msg00100.html">исправление</a>устраняет
возможную ошибку сегментации, которая, скорее всего, была причиной ряда
неудавшихся измерений. Другая <a
href="https://bugs.torproject.org/flyspray/index.php?id=847&amp;do=details">ошибка
кода</a> могла обуславливать сильное увеличение задержек при самонастройке:
очень медленные управления директорией задерживали самонастраивающихся
клиентов в течение долгого времени, после чего клиенты сдавались и делали
самонастройку с использованием других управлений. В результате две самые
медленные управления директории выделяют своим узлам большую полосу
пропускания, так что эта проблема – исправлена. Третья <a
href="https://bugs.torproject.org/flyspray/index.php?id=874&amp;do=details">ошибка</a>появилась
в связи с усовершенствованиями продуктивности скрытых сервисов в
ноябре. Заключается она в том, что процессы работы скрытых сервисов Tor
прекращали распространять информацию о своих сервисах, при перезагрузке
конфигурации. Далее, эта ошибка привела к еще одному открытию. Tor
пересоздает точки ввода при перезагрузке, что, возможно, повлияло на
стабильность скрытых сервисов. Эта ошибка была исправлена, исправление
войдет в следующую экспериментальную версию Tor 0.2.1.9-alpha.</em></small>
<br/> <small><em>Помимо исправления ошибок, с 8 по 10 декабря были проведены
новые измерения. Скорее всего, это будут последние измерения с целью
сравнения эффективности внедренных усовершенствований. Не все данные удалось
оценить на данный момент, поэтому сейчас трудно делать какие-либо заявления
касательно внедренных усовершенствований. Однако <a
href="http://freehaven.net/~karsten/hidserv/prelimreport-2008-12-15.pdf">предварительная
оценка</a> показывает, что время публикации сервисов значительно
улучшилось. Это результат ускорения самонастройки клиента Tor и улучшений
производительности, добавленных в ноябре. С другой стороны результаты по
созданию цепочки соединения к скрытому сервису выглядят менее
многообещающими. Хотя в целом добавленные в ноябре усовершенствования,
похоже, демонстрируют позитивный эффект на производительность, некоторые
подэтапы создания соединения все еще далеки от совершенства. Одним из
примеров является получение дескрипторов скрытого сервиса для подключения к
нему. Возможным объяснением этого факта мог бы быть резкий рост числа узлов
директории скрытых сервисов в сентябре, который повлиял на общую
производительность. Частью работы последнего месяца будет более детальная
оценка собранных данных и подведение итогов по результатам
проекта.</em></small>
  </td>
</tr>

<tr>
  <td>
    <a id="Jan09"></a> <a class="anchor" href="#Jan09">Январь 09</a>
  </td>
  <td>
    <small><em>Фаза тестирования завершена. Тестирование осуществлялось в
публичной бета фазе со всеми изменениями скрытых сервисов, которые были
частью серии 0.2.1.x-alpha. Результат публичной бета фазы – это парочка
идентифицированных ошибок, которые уже удалось исправить. </em></small>
<br/> <small><em>Другой частью тестирования были измерения, проведенные в
декабре. <a
href="http://freehaven.net/~karsten/hidserv/comparison-2009-01-15.pdf">Сравнение</a>
проведенных в июне и декабре измерений показали, что изменения, внесенные в
рамках этого проекта, оказались эффективными. Время на публикацию сервиса
было сокращено более чем в два раза с 2:12 минут до  58 секунд. Это
усовершенствование оказалось эффективней, чем ожидалось. Учитывая этот факт,
стоит задуматься о возможном снижении стабилизационного времени с 30 секунд
до более низкого показателя в будущем. Однако время создания цепочки
подключения к скрытому сервису до сих пор составляет примерно 56 секунд (от
запроса до создания подключения). Главной причиной неудавшегося
усовершенствования является переход от централизованного к
децентрализованному хранению дескрипторов скрытых сервисов. Этот эффект
ухудшения от распространения директории скрытого сервиса раньше не
ожидался. Дальнейшая работа должна фокусироваться на улучшении скачивания с
распространенных директорий скрытого сервиса, например, путем внедрения
параллельных запросов.</em></small> <br/> <small><em>Этот отчет завершает
серию месячных отчетов о проделанной работе. Массовый выпуск серии 0.2.1.x,
включающей все улучшения продуктивности скрытых сервисов, произойдет в
течение следующих недель или месяцев.</em></small>
  </td>
</tr>
</table>

<!-- Do we want a people section? If so, would it make sense to write what
these people will be doing? And what exactly are these people going to
do? :)
<a id="People">
</a>
<h2><a class="anchor" href="#People">People</a></h2>
<ul>
<li><a href="<page people>#Core">Karsten Loesing</a></li>
<li><a href="<page people>#Core">Steven Murdoch</a></li>
</ul>
-->
<br /> <a id="Links"></a>
<h2><a class="anchor" href="#Links">Ссылки</a></h2>
<ul>
<li>Исследовательский документ об <b>Измерении производительности и статистике
скрытых сервисов Tor </b> (<a
href="http://www.uni-bamberg.de/fileadmin/uni/fakultaeten/wiai_lehrstuehle/praktische_informatik/Dateien/Publikationen/loesing2008performance.pdf">PDF</a>).
Авторы: Karsten Loesing, Werner Sandmann, Christian Wilms, и Guido Wirtz. В
результате деятельности Международного Симпозиума по Приложениям и Интернету
(SAINT), Турку, Финляндия, Июль, 2008.</li>



<!-- In the future, put links to proposal, preliminary results, etc. here -->
</ul>

</div>



#include <foot.wmi>
