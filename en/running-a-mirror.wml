## translation metadata
# Revision: $Revision$

#include "head.wmi" TITLE="Tor: Running a Mirror"

<div class="main-column">

<h2>Tor: Running a Mirror</h2>
<hr />

<p>All of our mirrors are publicly listed on <a href="<page mirrors>">our mirrors page</a>.</p>

<h3>Mirroring process</h3>

<p>
The recommended method of mirroring is with rsync. There is no anonymous access to the web site files. You can set up authenticated access with the maintainer of the site you wish to mirror from, please send email to <a href="<page contact>">tor-webmaster</a>.</p>
<p>
The mirroring is a pull process, i.e. the client requests the data from the server at their own convenience. To set this up, you can use the websync script and its configuration file, which can be run from crontab, and which will do everything automatically. Follow the directions in the script to make sure everything works fine.
</p>

<h3>When to mirror</h3>

<p>
The main site gets updated frequently so we recommand to update mirror every four hours.</p>
<p>
You should calculate the mirroring time for your site according to the dates on timestamp files in /mirror/timestamps/ directory of the web site mirror. Add some time, say half an hour, to that time and mirror then.</p>
<p>
The easiest way to automatically have the mirror run every day is to use cron.
//ADD Command here
 See man crontab for details. 
</p>

<h3>Configuring the web server</h3>

<p>
This configuration is made for a standard apache server.



<p>
If you would like to run a mirror, it's as easy as this command to download
everything a mirror should share with the world:
<br /> <br />
<tt>
rsync -av --delete rsync://rsync.torproject.org/tor tor-mirror/
</tt>
<br /> <br />
If you would like to run a dist/ mirror, it's as easy as this command to 
download everything a dist mirror should share with the world:
<br /> <br />
<tt>
rsync -av --delete rsync://rsync.torproject.org/tor/dist tor-mirror-dist/
</tt>
<br/> <br/>
Please ensure that you keep your mirror updated (we suggest automating this
task with something like '<tt>cron</tt>'). Our website, source code and
binary releases change often. Tor users everywhere will thank you.
</p>

<p>
If you are running a mirror, please email
<a href="<page contact>">tor-webmaster</a> and we'll add it to the list.
</p>

  </div><!-- #main -->

#include <foot.wmi>
