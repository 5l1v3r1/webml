## translation metadata
# Based-On-Revision: 11719
# Last-Translator: jan@eul.org

#include "head.wmi" TITLE="Istruzioni per configurare un Hidden Service" CHARSET="UTF-8"

<div class="center">

<div class="main-column">

<h1>Configurare i servizi nascosti (Hidden Service) per <a href="<page index>">Tor</a></h1>
<hr />

<p>Tor permette a client e server di offrire dei "servizi nascosti" (hidden service). In altre parole,
puoi realizzare un server web, un server SSH, etc., senza rivelare il tuo
indirizzo IP agli altri utenti. Di fatto, non usando un indirizzo IP pubblico,
puoi avere un hidden service anche da dietro il tuo firewall.
</p>

<p>Se hai installato Tor e Privoxy, puoi vedere dei servizi nascoti
dal vivo visitando <a href="http://duskgytldkxiuqc6.onion/">, un
esempio di hidden service</a>.
</p>

<p>Questa guida spiega come realizzare il proprio sito web come hidden
service.
</p>

<hr />
<a id="zero"></a>
<h2><a class="anchor" href="#zero">Zero: installa Tor e Privoxy</a></h2>
<br />

<p>Prima di iniziare occorre che:</p>
<ol>
<li>Tor sia attivo e funzioni correttamente,</li>
<li>Privoxy sia attivo e funzioni,</li>
<li>Privoxy sia configurato per puntare a Tor e che</li>
<li>l'installazione sia corretta e funzionante.</li>
</ol>

<p>Gli utenti Windows possono seguire il <a
href="<page docs/tor-doc-win32>">Windows
howto</a>, gli utenti OS X possono seguire il <a
href="<page docs/tor-doc-osx>">OS
X howto</a>, e infine gli utenti Linux/BSD/Unix possono seguire lo <a
href="<page docs/tor-doc-unix>">Unix howto</a>.
</p>

<p>Una volta installati e configurati Tor e Privoxy,
puoi vedere i hidden service dal vivo seguendo questo link al <a
href="http://duskgytldkxiuqc6.onion/">hidden wiki</a>.
Ci impieger&agrave; di solito 10-60 secondi a caricare
(o a decidere che non &egrave; raggiungibile al momento). Se d&agrave; un errore
subito e il tuo browser mostra un messaggio che dice
"Impossibile trovare www.duskgytldkxiuqc6.onion , controlla l'indirizzo
e riprova", significa che Tor e Privoxy non sono configurati correttamente; leggi <a
href="http://wiki.noreply.org/noreply/TheOnionRouter/TorFAQ#ItDoesntWork">questa
FAQ</a> per aiuto e suggerimenti.
</p>

<hr />
<a id="one"></a>
<h2><a class="anchor" href="#one">Uno: installa localmente un web server</a></h2>
<br />

<p>Per prima cosa devi installare un web server in locale. Pu&ograve;
essere una cosa delicata,
per cui qui descriveremo solo alcuni passaggi elementari.Se ti trovi in difficolt&agrave;
o se vuoi fare di pi&ugrave; cerca un amico che ti aiuti. Ti consigliamo di
di installare un web server separato per il tuo hidden service, dato che
se ne hai gi&agrave; uno installato forse lo stai gi&agrave; usando (o vorrai
usarlo in futuro) per un altro sito web.

</p>

<p>Se usi Unix o OS X e sei a tuo agio con la linea di
comando, la cosa migliore &egrave; installare <a
href="http://www.acme.com/software/thttpd/">thttpd</a>. Piglia la tarball
pi&ugrave; recente, scompattala (creer&agrave; la sua directory), ed esegui
<kbd>./configure &amp;&amp; make</kbd>. Poi <kbd>mkdir hidserv; cd
hidserv</kbd>, ed esegui
<kbd>../thttpd -p 5222 -h localhost</kbd>. Ti restituir&agrave; il prompt
e avrai un webserver sulla porta 5222. Puoi mettere dei file 
nella directory hidserv.
</p>

<p>Su Windows, puoi usare <a
href="http://savant.sourceforge.net/">Savant</a> o <a
href="http://httpd.apache.org/">Apache</a>, e configurarlo per collegarsi
solo da localhost. Devi anche sapere su quale pota &egrave; in
ascolto, dato che servir&agrave; pi&ugrave; sotto.
</p>

<p>(Il motivo per collegare il web server solo a localhost &egrave; per
assicurarsi che non sia accessibile pubblicamente. Se si potesse accedere direttamente,
si potrebbe avere la prova che &egrave; il tuo computer a offire l'hidden
service.)
</p>

<p>Una volta installato il web server, controlla che funzioni: apri un browser
e vai a <a
href="http://localhost:5222/">http://localhost:5222/</a>, dove 5222 &egrave;
la porta scelta poco pi&ugrave; sopra. Prova poi a mettere unfile nella directory
html principale e controlla che sia visibile quando accedi al sito.
</p>

<hr />
<a id="two"></a>
<h2><a class="anchor" href="#two">Due: Configura il tuo hidden service</a></h2>
<br />

<p>Ora devi configurare l'hidden service perch&eacute; punti al
web server locale
</p>

<p>Per prima cosa, apri il file torrc con un editor di testo. (Vedi <a
href="http://wiki.noreply.org/noreply/TheOnionRouter/TorFAQ#torrc">la
torrc FAQ</a> per maggiori informazioni.) Vai alla sezione di mezzo e
cerca la riga</p>

<pre>
\############### This section is just for location-hidden services ###
</pre>

<p>
Questa sezione del file contiene un gruppo di righe che rappresentano ciascuna
un hidden service. Per ora sono tutte commentate via (le linee
iniziano con #), infatti i hidden service sono disabilitati. Ogni gruppo di righe
consiste in una riga <var>HiddenServiceDir</var> e una o pi&ugrave; 
righe <var> HiddenServicePort</var>:</p>

<ul>
<li><var>HiddenServiceDir</var> &egrave; una directory dove Tor metter&agrave; le informazioni
su quel hidden service.  In particolare Tor vi creer&agrave; un file di nome
<var>hostname</var> che indica l'onion URL.  Non occorre aggiungere
altri file a questa directory.</li>
<li><var>HiddenServicePort</var> permette di specificare una porta virtuale (ovvero, la porta
che chi accede al servizio creder&agrave; di usare), e un
indirizzo IP e una porta per redirigere le connessioni verso questa porta virtuale.</li>
</ul>

<p>Aggiungi le seguenti righe a torrc:
</p>

<pre>
HiddenServiceDir /Library/Tor/var/lib/tor/hidden_service/
HiddenServicePort 80 127.0.0.1:5222 
</pre>

<p>Sar&agrave; necessario modificare la riga <var>HiddenServiceDir</var> in modo che punti
a una directory vera che sia leggibile e scrivibile dall'utente con cui
gira Tor. L'esempio sopra dovrebbe funzionare con il pacchetto Tor
per OS X. In Unix, prova "/home/nomeutente/hidserv/" e metti il tuo nome
utente al posto di "nomeutente". Su Windows puoi provare:</p>
<pre>
HiddenServiceDir C:\Documents and Settings\nomeutente\Dati applicazioni\hidden_service\\
HiddenServicePort 80 127.0.0.1:5222
</pre>

<p>Ora salva il file torrc, chiudi
Tor e riavvialo.  
</p>

<p>Se Tor riparte, bene. Altrimenti c'&egrave; qualcosa che non va. Per prima cosa dai
un'occhiata ai file di log, che riportano avvisi o messaggi di errore. Ci&ograve;
dovrebbe darti indicazioni sui problemi incontrati. Spesso ci sono errori di battitura nel file torrc
o permessi di directory errati. (Vedi la <a
href="http://wiki.noreply.org/noreply/TheOnionRouter/TorFAQ#Logs">logging
FAQ</a> se non sai come abilitare o trovare
i file di log.)

</p>

<p>Quando Tor parte creer&agrave; automaticamente la  <var>HiddenServiceDir </var>
che hai indicato (se serve), e vi creer&agrave; due file.</p>
<dl>
<dt><var>private_key</var></dt>
<dd>Anzitutto Tor creer&agrave; un nuovo paio di chiavi pubblica/privata per il tuo hidden
service. Esso viene scritto in un file detto "private_key". Non condividere questa chiave
co altri -- altrimenti un altro otrebbe impersonare il tuo hidden
service.</dd>
<dt><var>hostname</var><dt>
<dd>L'altro file creato da Tor &egrave; detto "hostname". Esso contiene
un breve sommario della tua chiave pubblica -- qualcosa di smile a
<tt>duskgytldkxiuqc6.onion</tt>. &#200; il nome pubblico del tuo servizio
e puoi comunicarlo a tutti, pubblicarlo su siti web, scriverlo sul biglietto
da visita, etc. .</dd>
</dl>

<p>Se Tor gira con un diverso utente, ad esempio su
OS X, Debian, o Red Hat, forse devi diventare root per leggere
questi file.</p>

<p>Ora che hai riavviato Tor, lui cerca degli introduction point
nella rete Tor, generando un cosiddetto <em>hidden service
descriptor</em>. Esso &egrave; una lista firmata di introduction point e della chiave
pubblica del servizio. Tor pubblica anonimamente questa descrizione
ai directory server, cos&igrave; gli altri possono prelevarla anonimamente dai
directory server quando cercano di accedere al tuo servizio.
</p>

<p>Ora fai una prova: copia e incolla il contenuto del file hostname nel tuo
browser. Se funziona vedrai la pagina html che hai preparato al punto uno.
Se non funziona, guarda nei log e fai altre prove e modifiche finch&eacute; non 
funziona.
</p>

<hr />
<a id="three"></a>
<h2><a class="anchor" href="#three">Tre: argomenti avanzati</a></h2>
<br />

<p>Se pensi di rendere disponibile a lungo il tuo servizio, dovresti fare
una copia di backup del file <var>private_key</var>.
</p>

<p>Nell'esempio sopra abbiamo evitato di proposito Apache, a) perch&eacute; molti
potrebbero gi&agrave; usarlo per un server web pubblico sul loro computer, e b)
perch&eacute; &egrave; una grande applicazione
che ha molti posti in cui potrebbe rivelare il tuo vero indirizzo IP o altre
informazioni atte a identificarti, ad esempio nelle pagine 404. Per chi avesse bisogno
di pi&ugrave; funzionalit&agrave;, Apache potrebbe essere la soluzione giusta. Puoi
scrivere una lista di azioni per blindare Apache quando lo si usa come
hidden service? Anche Savant probabilmente ha problemi del genere.
</p>

<p>Se vuoi inoltrare pi&ugrave; porte virtuali a un unico hidden
service, basta aggiungere altre righe <var>HiddenServicePort</var>.
Se vuoi gestire pi&ugrave; hidden services dallo stesso client Tor,
aggiungi un'altra riga <var>HiddenServiceDir</var>. Tutte le seguenti righe
<var>HiddenServicePort</var> si riferiscono a questa riga <var>HiddenServiceDir</var>, fino
a quando non aggiungi un'altra riga <var>HiddenServiceDir</var>:
</p>

<pre>
HiddenServiceDir /usr/local/etc/tor/hidden_service/
HiddenServicePort 80 127.0.0.1:8080

HiddenServiceDir /usr/local/etc/tor/other_hidden_service/
HiddenServicePort 6667 127.0.0.1:6667
HiddenServicePort 22 127.0.0.1:22
</pre>

<p>Alcuni problemi di anonimato da tenere a mente:
</p>
<ul>
<li>Come detto sopra, fai attenzione che il server web non riveli
informazioni che possano identificare te, il tuo computer, la tua posizione.
Ad esempio, un visitatore potr&agrave; probabilmente capire se si tratta di thttpd o
di Apache e che sistema operativo usi.</li>
<li>Se il tuo computer non &egrave; sempre online, non lo sar&agrave; nemmeno il tuo
hidden service. Questo rivela informazioni all'osservazione di un avversario.</li>
<!-- increased risks over time -->
</ul>



<hr />

<p>se hai suggerimenti per migliorare questo documento, per favore <a
href="<page contact>">scrivici</a>. Grazie!</p>

  </div><!-- #main -->
</div>

#include <foot.wmi>

