## translation metadata
# Based-On-Revision: 12809
# Last-Translator: jan at seul org

#include "head.wmi" TITLE="Istruzioni per configurare un server Tor" CHARSET="UTF-8"

<div class="center">
 
<div class="main-column">

<h1>Configurare un relay <a href="<page index>">Tor</a></h1>
<br />

<p>
La rete Tor &egrave; formata da volontari che offrono la propria banda. Quante
pi&ugrave; persone hanno un relay, tanto pi&ugrave; veloce sar&agrave; la rete Tor. Se hai
almeno 20 kilobyte/s sia up che down, aiuta la rete configurando il tuo Tor
come relay. Gestire un relay Tor &egrave; semplice e ci sono funzionalit&agrave;
molto comode, come il controllo della banda usata, exit policy che permettono
di ridurre il rischio di lamentele e abusi, ed il supporto per indirizzi IP
dinamici.</p>

<p>Con dei relay sparsi in molti luoghi diversi su Internet, gli utenti
Tor sono pi&ugrave; sicuri. <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#RelayAnonymity">Puoi
avere tu stesso un anonimato maggiore</a>,
dato che i siti remoti non potranno sapere se la connessione &egrave; partita dal tuo
computer o da un altro nodo precedente.</p>

<p>Realizzare un server Tor &egrave; semplice:
<ul>
<li>Tor ha un sistema nativo per il <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#LimitBandwidth">controllo
della banda</a>. Se poi hai un collegamento veloce,
ma vuoi limitare i byte che metti a disposizione ogni giorno
(oppure ogni settimana o mese), leggi della <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#Hibernation">funzionalit&agrave;
di ibernazione</a>.
</li>
<li>Ciascun relay Tor ha una <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#RunARelayBut">exit
policy</a> che stabilisce quali connessioni in uscita sono permesse
o bloccate. Se preferisci non consentire agli altri l'uscita dal tuo
relay, puoi definire l'exit policy per permettere solo collegamenti
verso altri relay Tor.
</li>
<li>Se il tuo relay qualche volta si scollega, non c'&egrave; problema. Le directory
infatti se ne accorgono presto e cessano di pubblicarlo. Cerca per&ograve; di non
farlo cadere troppo di frequente, perch&eacute; le connessioni che in quel momento stanno
usando il relay vengono interrotte.
</li>
<li>Si  pu&ograve; realizzare un relay anche con un indirizzo IP dinamico &mdash; basta
lasciare vuota l'opzione Address config e Tor ricaver&agrave; da solo l'indirizzo.
</li>
<li>Se il tuo relay &egrave; in NAT e non conosce il suo IP
pubblico (es. ha un IP simile a 192.168.x.y), dovreai configurare il port
forwarding. Il forwarding delle connessioni TCP varia da sistema a sistema, ma in <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#ServerForFirewalledClients">questa
FAQ</a> ci sono vari esempi di come fare.
</li>
<li>Il tuo relay fa una stima passiva della banda recentemente disponibile
e la pubblicizza, e quindi i relay a larga banda attrarranno pi&ugrave; utenti di
quelli con meno banda. Per questo anche i relay con poca banda sono molto utili.
</li>
</ul>

<p>Puoi realizzare un relay Tor
su quasi tutti i sistemi operativi, ma leggi <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#RelayOS">questa
FAQ</a> per indicazioni sul sistema operativo pi&ugrave; adatto e per i problemi
tecnici che potresti avere.</p>

<hr />
<a id="zero"></a>
<h2><a class="anchor" href="#zero">Zero: scarica e installa Tor</a></h2>
<br />

<p>Prima di iniziare, assicurati che Tor sia installato e funzioni.
</p>

<p>Gli utenti Windows devono seguire il <a
href="<page docs/tor-doc-win32>#installing">passo uno</a>
della guida di installazione Tor su Windows. Gli utenti di Mac OS X devono seguire il
<a href="<page docs/tor-doc-osx>#installing">passo uno</a>
della guida di installazione Tor su OS X. Gli utenti Linux/BSD/Unix devono completare il
<a href="<page docs/tor-doc-unix>#installing">passo uno</a>
della guida di installazione Tor su Unix.
</p>

<p>Per comodit&agrave; potresti usarlo come client per un po', in
modo da assicurarti che funzioni correttamente.</p>

<hr />
<a id="setup"></a>
<h2><a class="anchor" href="#setup">Uno: configura Tor come relay</a></h2>
<br />

<p>
1. Controlla che l'orologio di sistema sia preciso. Se possibile sincronizzalo
con un time server pubbico.
</p>

<p>
2. Controlla che funzioni la risoluzione dei nomi (in altre parole, il tuo computer deve potere
risolvere correttamente gli indirizzi per mezzo del DNS).
</p>

<p>
3. Modifica la parte finale del file torrc. (Vedi <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#torrc">questa
FAQ</a> per un aiuto).
Definisci come minimo almeno Nickname e ORPort. Crea la DataDirectory
se necessario, e controlla che sia di propriet&agrave; dell'utente con cui girer&agrave;
tor. <em>Se vuoi gestire pi&ugrave; di un relay, per favore
definisci <a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#MultipleRelays">l'opzione
MyFamily</a> nei file di configurazione di tutti i tuoi relay.</em>
</p>

<p>
4. Se usi un firewall, aprilo in modo da permettere alle connessioni
in arrivo di raggiungerele porte che hai configurato (ORPort, anche
DirPort se l'hai abilitata). Controlla che siano permesse tutte le connessioni in uscita,
per permettere al tuo relay di raggiungere gli altri server Tor.
</p>

<p>
5. Riavvia il relay. Se <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#Logs">segnala
dei messaggi di avviso</a>, esaminali.

</p>

<p>
6. Iscriviti alla mailing list <a
href="http://archives.seul.org/or/announce/">or-announce</a>.
Ha un traffico molto basso e serve ad informarsi sulle
nuove versioni stabili. Potresti anche iscriverti a <a
href="http://archives.seul.org/or/talk/">or-talk</a> (traffico pi&ugrave; alto),
in cui vengono annunciate le nuove versioni di sviluppo.
</p>

<p>
7. Leggi il manuale.
Il <a href="<page tor-manual>">manuale</a> dell'
ultima versione stabile ha una lista di tutte le opzioni di configurazione
possibili per client e relay.
Se usi la versione di sviluppo di Tor, il manuale &egrave; disponibile
<a href="<page tor-manual-dev>">qui</a>.
</p>

<hr />
<a id="check"></a>
<h2><a class="anchor" href="#check">Due: controlla che funzioni</a></h2>
<br />

<p>Appena il relay si collega alla rete, cerca
di capire se le porte che hai configurato sono raggiungibili dall'
esterno. Ci vogliono fino a 20 minuti. Cerca
<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#Logs">riga del
log</a> cos&igrave;

<tt>Self-testing indicates your ORPort is reachable from the outside. Excellent.</tt>
Se non trovi questo messaggio, significa che il tuo relay non &egrave; raggiungibile
dall'esterno &mdash; ricontrolla il firewall, controlla che il relay usi 
l'IP giusto, etc.
</p>

<p>Quando il relay stabilisce di essere raggiungibile, invia un "server
descriptor" alle directory. In questo modo i client sapranno
quale indirizzo, che porta, che chiave, etc usi il tuo server. Puoi <a
href="http://moria.seul.org:9032/tor/status/authority">caricare manualmente
uno dei network status</a> e
scorrerlo per cercare il nickname che hai configurato, per essere certo che
sia l&igrave;. Potrebbe volerci qualche secondo per dare il tempo di
creare una directory aggiornata.</p>

<hr />
<a id="after"></a>
<h2><a class="anchor" href="#after">Tre: quando funziona</a></h2>
<br />

<p>
Raccomandiamo anche le seguenti operazioni:
</p>

<p>
8. Leggi
<a href="https://wiki.torproject.org/noreply/TheOnionRouter/OperationalSecurity">questo documento</a>
su come aumentare la sicurezza del tuo relay.
</p>

<p>
9. Scegli una exit policy. Di default il tuo relay consente
l'accesso a molti servizi, ma ne limita alcuni (come la porta 25)
a causa dei potenziali abusi. Potresti applicare una exit policy pi&ugrave;
o meno restrittiva; per farlo modifica il tuo file torrc.
Leggi la FAQ sui <a
href="<page faq-abuse>#TypicalAbuses">problemi che potresti
avere con la exit policy di default</a>.
Se scegli di applicare una exit policy particolarmente aperta, assicurati
che per il tuo ISP non ci siano problemi.
Se il tuo computer non pu&ograve; raggiungere certe risorse (ad esempio,
se sei dietro un firewall restrittivo o dietro un content filter), per favore
rifiutali esplicitamente nella tua exit policy &mdash; altrimenti anche gli utenti Tor
ne verrebbero pregiudicati.

</p>

<p>
10. Decidi se applicare un rate limiting. Le ADSL, i modem via cavo e tutti
coloro che hanno banda asimmetrica (es. pi&ugrave; down che up) dovrebbero
definire un rate limit alla banda pi&ugrave; lenta, per evitare congestioni. vedi la <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#LimitBandwidth">rate
limiting FAQ </a> per maggiori dettagli.
</p>

<p>
11. Fai un backup della chiave privata del tuo relay Tor (&egrave; in "keys/secret_id_key"
nella tua DataDirectory). Essa costituisce l'identit&agrave; del tuo relay ed
&egrave; importante custodirla al sicuro in modo che nessuno possa leggere il traffico
che passa dal tuo relay. Questo &egrave; un file importante da conservare se dovessi <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#UpgradeServer">spostare o
ripristinare il tuo server Tor</a> in caso di prolemi.
</p>

<p>
12. Se controlli il name server del tuo dominio, potresti chiamare
il tuo host 'anonymous' o 'proxy' o 'tor-proxy', cos&igrave; quando qualcuno
vede il tuo indirizzo nei log del suo webserver, pu&ograve; facilmente
capire di cosa si tratta.
</p>

<p>
13. Se non hai un webserver sul tuo computer, potresti cambiare
la ORPort a 443 e la DirPort a 80. Molti utenti Tor
si trovano dietro dei firewall che consentono solo di navigare
sul web, e in questo modo potranno raggiungere comunque il tuo Tor relay. I relay Win32
possono semplicemente cambiare la ORPort e la DirPort
nel file torrc e riavviare Tor. I server OS X o Unix non possono
collegare direttamente queste porte (perch&eacute; non girano come root), e quindi
devono usare un apposito <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#ServerForFirewalledClients">
port forwarding</a> per permettere alle connessioni di raggiungere il Tor relay. Se usi gi&agrave;
le porte 80 e 443, ma vuoi aiutare comunque, altre porte
molto utili sono la 22, 110, e 143.
</p>

<p>
14. Se il tuo relay Tor fornisce altri servizi sul medesimo indirizzo IP
&mdash; ad esempio, un webserver &mdash; controlla che sia possibile collegarsi al
webserver anche da localhost. &#200; necessario
perch&eacute; i client Tor rileveranno che il tuo server &egrave; <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#ExitEavesdroppers">il modo
pi&ugrave; sicuro per raggiungere il webserver</a>, e creeranno sempre un circuito che termini
sul tuo relay Tor. Se non vuoi permettere queste connessioni, devi
rifiutarle esplicitamente nella tua exit policy.
</p>

<p>
15. (Solo per Unix). Crea un utente separato per il relay. Se hai
installato il pacchetto OS X, il deb o l'rpm, &egrave; gi&agrave; cos&igrave;.
Altrimenti puoi farlo a mano. (Il relay Tor non ha bisogno di girare
come root, anzi &egrave; buona prassi non eseguirlo come root. Girando
come utente 'tor' si evitano problemi con identd e altri serviziche
rilevano il nome dell'utente. Se sei una persona paranoica, puoi <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorInChroot">mettere Tor
in un chroot jail</a>.)
</p>

<p>
16. (Solo per Unix). Il tuo sistema operativo probabilmente limita il numero
dei file descriptor aperti per ogni processo a 1024 (o meno). Se vuoi
gestire un exit node veloce, probabilmente non basta. Su
Linux, aggiungi una riga come "toruser hard nofile 8192" al file
/etc/security/limits.conf (dove toruser &egrave; l'utente del processo
Tor), poi riavvia Tor se &egrave; stato installato da pacchetto (o fai un
logout e login se lo avvii tu stesso). Se non dovesse funzionare, vedi <a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#FileDescriptors">questa
FAQ</a> per altri metodi suggeriti per eseguire "ulimit -n 8192" prima
di lanciare Tor.
</p>

<p>
17. Se hai installato Tor da qualche pacchetto o installer, Tor si avvier&agrave;
automaticamente al boot del sistema. Se per&ograve; l'hai installato dai sorgenti,
potrebbero esserti utili gli initscript in contrib/tor.sh o contrib/torctl.
</p>

<p>
Quando modifichi la configurazione di Tor, ricordati di controllare che
il tuo relay funzioni regolarmente dopo le modifiche. Completa la voce
"ContactInfo" nel file torrc in modo che possiamo contattarti se ci fosse bisogno
di aggiornare o ci fossero dei problemi. Se hai problemi o domande, vedi
la sezione <a href="<page documentation>#Support">Supporto</a> o la pagina
<a href="<page contact>">contact us</a> sulla lista tor-ops. Grazie
del tuo aiuto per far crescere la rete Tor!
</p>

<hr />

<p>Se hai suggerimenti per migliorare questo documento, per favore <a
href="<page contact>">segnalaceli</a>. Grazie!</p>

  </div><!-- #main -->
</div>

#include <foot.wmi>

