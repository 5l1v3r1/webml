## translation metadata
# Revision: $Revision$

#include "head.wmi" TITLE="Tor VM"

<div class="main-column">

<!-- PUT CONTENT AFTER THIS TAG -->

<h2>Tor VM</h2>
<hr>

<h3>What Is It?</h3>
<p>Tor VM is a transparent Tor proxy for Windows that uses Qemu full
virtualization technology for more resilient Tor clients and relays.
</p>
<p><strong>The initial 0.0.1 release is an unstable test build!</strong>
See the
<a href="http://bugs.noreply.org/flyspray/index.php?tasks=all&amp;project=4&amp;cat=19"
>bug tracking database for known issues</a>. Remember to backup anything
important before using this software on your system.</p>

<a id="Download"></a>
<h3><a class="anchor" href="#Download">Download Tor VM Software</a></h3>

<ul>

<!-- XXX: need to replace harcoded version with var replace in include -->
<li><a href="dist/TorVM-0.0.1-NetInstaller.exe">Tor VM Network Installer</a>
(<a href="dist/TorVM-0.0.1-NetInstaller.exe.asc" style="font-size: 90%;">sig</a>/
<a href="dist/TorVM-0.0.1-NetInstaller.exe.sha1.txt" style="font-size: 90%;">sha1</a>)</li>

<li><a href="dist/TorVM-0.0.1-Bundle.exe">Tor VM Bundle Installer</a>
(<a href="dist/TorVM-0.0.1-Bundle.exe.asc" style="font-size: 90%;">sig</a>/
<a href="dist/TorVM-0.0.1-Bundle.exe.sha1.txt" style="font-size: 90%;">sha1</a>)</li>

<li><a href="dist/Tor_VM.exe">Tor VM Stand-alone Self Extractor</a>
(<a href="dist/Tor_VM.exe.asc" style="font-size: 90%;">sig</a>/
<a href="dist/Tor_VM.exe.sha1.txt" style="font-size: 90%;">sha1</a>)</li>

</ul>

<a id="Setup"></a>
<h3><a class="anchor" href="#Setup">Configure Windows For Less Risk</a></h3>

<p>Running Firefox with Torbutton as a reduced privilege user provides
defense in depth against various risks Internet users face. These steps
explain how to create a restricted account for user name "anon".</p>

<p>Navigate to the control panel "User Accounts" option. You can also use
the menu navigation:<br />
<!-- should this be a sequence of <span> instead? -->
<strong>Start Menu -&gt; Settings -&gt; Control Panel -&gt; Add or Remove Programs</strong></p>

<p><img src="img/uc01.png" alt="Control panel view - Select User Accounts option" /></p>

<p>Select "Create a new account".</p>

<p><img src="img/uc02.png" alt="User Accounts Tool - Select Create a new account" /></p>

<p>Provide a nickname for the anonymous limited user account.</p>

<p><img src="img/uc03.png" alt="Provide a nickname for the restricted account" /></p>

<p>Choose the "Limited" account type for the reduced privilege user feature.</p>

<p><img src="img/uc04.png" alt="Choose the Limited account type" /></p>

<p>Select "Create Account".</p>

<p><img src="img/uc05.png" alt="Select Create Account" /></p>

<p>The new user is added to the list of accounts on the local system. This is
the account that Internet applications like Firefox will run as when using
Tor VM to route traffic through the Tor network.
</p>

<p><img src="img/uc06.png" alt="New user is available for login session" /></p>

<p>The Switch User feature is used to run critical Tor VM software as Admin
while Firefox and other Internet applications run with restricted rights.</p>

<p><img src="img/uc07.png" alt="Use switch user to log in as restricted user" /></p>

<p>The new limited user desktop has its own configuration and environment.</p>

<p><img src="img/uc09.png" alt="Both Tor VM admin and restricted user can be used concurrently" /></p>

<a id="Install"></a>
<h3><a class="anchor" href="#InstallExtractor">Tor VM Self-Extractor</a></h3>

<p>Save the installer executable to Desktop or portable storage.</p>

<p><img src="img/extr01.png" alt="Save installer exe to desktop or drive" /></p>

<p>Select the path or folder to extract into.</p>

<p><img src="img/extr02.png" alt="Select path for destination" /></p>

<p>Run the torvm.exe program in the extracted Tor_VM folder.</p>

<p><img src="img/extr03.png" alt="Run the torvm.exe program in the Tor_VM folder" /></p>

<h3><a class="anchor" href="#InstallBundle">Install Tor VM Bundle</a></h3>

<p>Double click on the Bundle or Network Installer EXE to begin installation.</p>

<p><img src="img/bundle01.png" alt="Click to Run Bundle Installer" /> &nbsp;
<img src="img/netinst01.png" alt="Click to Run Network Installer" /></p>

<p>The bundle package installs each of the applications included with Tor VM like 
Vidalia and Tor Button.</p>

<p><img src="img/bundle02.png" alt="Click to Run Bundle Installer" /></p>

<a id="Run"></a>
<h3><a class="anchor" href="#Run">Run Tor VM and Vidalia</a></h3>

<p>After installing the bundle packages a Tor VM controller is started in
the background. The installer program has finished and can be closed.</p>

<p><img src="img/run01.png" alt="Tor VM controller will start at end of install" /></p>

<p>After preparing network devices a Qemu virtual machine running the
Tor VM kernel is launched. A status screen will be shown detailing progress
bootstrapping the Tor software into the network.</p>

<p><img src="img/run02.png" alt="Qemu launched with Tor VM kernel" /></p>

<p>The bootstrap is 100% complete when Tor is able to create a circuit
through the network.</p>

<p><img src="img/run03.png" alt="Bootstrap not complete until circuit created" /></p>

<p>After successful start a list of transparent proxy connection counts are
shown. This indicates that Tor VM is up and ready to start transparently
routing traffic through the Tor network. The socks port is also available to
the host for use with Polipo or Privoxy http proxies.</p>

<p><img src="img/run04.png" alt="Proxy traffic connection counts show Tor VM status" /></p>

<!-- no marble for first release
<p>The first time Vidalia is run the image tiles needed for the Marble Map
plugin will be generated at start. If you do not have sufficient memory or
CPU to generate these tiles you can install the full Vidalia Marble package
with the generated image tiles already included.</p>

<p><img src="img/vidalia-genmap.png" alt="It may take a minute to generate the Marble Map image tiles" /></p>

<p>If any of the bundle applications stop working a repair can be requested
which may resolve the problem.</p>
-->

<a id="Repair"></a>
<h3><a class="anchor" href="#Repair">Repair Installed Applications</a></h3>

<p><img src="img/vidalia-support.png" alt="In Add or Remove Programs - Select support option for package" /></p>

<p>Choose the repair option and all of the package files and registry will be
restored.</p>

<p><img src="img/vidalia-repair.png" alt="Choose Repair option" /></p>

<a id="Debug"></a>
<h3><a class="anchor" href="#Debug">Troubleshoot Problems and Report Bugs</a></h3>

<p>The Tor VM category in the Tor flyspray bug tracker is used to manage
defects and features. See the
<a href="http://bugs.noreply.org/flyspray/index.php?tasks=all&amp;project=4"
>Tor flyspray bug tracker</a> for known issues and pending changes.</p>

<!-- localized installers and full Marble data bundle?
<a id="Advanced"></a>
<h3><a class="anchor" href="#Advanced">Experimental Packages and Usage</a></h3>
-->

<a id="More"></a>
<h3><a class="anchor" href="#More">Additional Resources</a></h3>

<p>The latest design document for Tor VM is available in revision control:
<a href="https://svn.torproject.org/svn/torvm/trunk/doc/design.html"
>https://svn.torproject.org/svn/torvm/trunk/doc/design.html</a>.
</p>

<p>Features and fixes planned for the Tor VM software are documented in the
<a href="https://svn.torproject.org/svn/torvm/trunk/TODO">Tor VM TODO</a>.</p>

<p><a href="https://data.peertech.org/torbld/info/Tor_VM-svn">Automated package
builds are available</a> for verifying fixes in subversion and testing work in
progress.</p>

<p>Be sure to build against a known working tag in the torvm repo. For
example,<br />
svn export https://svn.torproject.org/svn/torvm/tags/torvm-0_0_1 torvm-0.0.1-build
</p>

</div><!-- #main -->

#include <foot.wmi>

